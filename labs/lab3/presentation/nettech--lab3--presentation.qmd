---
## Author
author:
  name: Ибрахим Мохсейн Алькамаль
  degrees: Student (3 курс)
  orcid: ""
  email: 1032225432@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: Лабораторная работа №3
subtitle: "Дисциплина: Сетевые технологии"
license: CC BY
date: today
date-format: "YYYY-MM-DD" # Example: 2025-09-06
---

## Цель работы

**Цель работы:**

* Изучение кадров Ethernet
* Анализ PDU протоколов:

  * транспортного уровня
  * прикладного уровня
* Исследование работы стека TCP/IP с помощью Wireshark

## MAC-адресация (ipconfig)

* Использована команда `ipconfig`
* Получены параметры сетевого интерфейса:

  * IPv4-адрес
  * Маска подсети
  * Шлюз по умолчанию
* Определено активное беспроводное соединение


![Команда ipconfig](image/1.png){#fig:1 width=45%}


## MAC-адрес устройства (ipconfig /all)

* Использована команда `ipconfig /all`
* Определён MAC-адрес сетевого адаптера:

  * **DC-46-28-6C-92-D3**
* MAC-адрес состоит из 6 октетов:

  * первые 3 — производитель
  * последние 3 — интерфейс

![Команда ipconfig /all](image/2.png){#fig:2 width=45%}



## Анализ MAC-адреса

* Производитель по первым 3 октетам: **Intel Corporate**
* Первый байт: `DC = 11011100₂`

  * I/G bit = 0 → индивидуальный адрес
  * L/G bit = 0 → глобально администрируемый адрес



## Запуск захвата в Wireshark

* Выбран беспроводной интерфейс
* Запущен захват трафика

![Запуск захвата трафика](image/3.png){#fig:3 width=70%}



## ICMP: пинг шлюза

* Шлюз по умолчанию: **172.16.36.1**
* Выполнена команда:

  ```
  ping 172.16.36.1
  ```
* Захвачены ICMP Echo Request и Echo Reply

![Пинг шлюза по умолчанию](image/4.png){#fig:4 width=70%}



## ICMP Echo Request

* Фильтр: `icmp`
* Проанализирован Echo Request:

  * Длина кадра: 74 байта
  * MAC источника: устройство
  * MAC назначения: шлюз
* Оба MAC-адреса:

  * индивидуальные
  * глобально администрируемые

![Кадр ICMP - эхо-запрос: информация о длине кадра, типе Ethernet и MAC-адресах](image/5.png){#fig:5 width=70%}



## ICMP Echo Reply

* Echo Reply от шлюза к клиенту
* MAC-адреса источника и назначения поменялись местами
* Длина кадра также 74 байта

![Кадр ICMP - эхо-ответ: информация о длине кадра, типе Ethernet, MAC-адресах](image/6.png){#fig:6 width=80%}



## Протокол ARP

* ARP передаётся в кадре **Ethernet II**
* Общая длина кадра: **60 байт**
* Основные поля:

  * Hardware type: Ethernet (1)
  * Protocol type: IPv4
  * Opcode: 1 (ARP Request)
* Адрес назначения: **ff:ff:ff:ff:ff:ff**

![Кадр ARP: информация о длине кадра, типе Ethernet, MAC-адресах](image/7.png){#fig:7 width=50%}



## ICMP: ping rudn.ru

* Выполнена команда:

  ```
  ping rudn.ru
  ```
* Результат:

  * 4 запроса
  * 0 ответов
  * Потери: 100%
* ICMP-ответы отсутствуют


![Пинг сайта rudn.ru](image/8.png){#fig:8 width=80%}



## ICMP без ответа

* Захвачены только Echo Request
* Echo Reply отсутствуют
* Возможные причины:

  * блокировка ICMP
  * межсетевой экран
  * политики безопасности

![Запрос протокола ICMP](image/9.png){#fig:9 width=80%}
![Ответ протокола ICMP](image/10.png){#fig:10 width=80%}



## HTTP поверх TCP

* Открыт сайт: **[http://info.cern.ch](http://info.cern.ch)**
* Фильтр: `http`
* Анализ TCP:

  * порт источника: динамический (64048)
  * порт назначения: 80
* Используются Sequence и Acknowledgment Number

![Кадр http - запрос](image/11.png){#fig:11 width=70%}



## HTTP Response

* В ответе:

  * порт источника: 80
  * порт назначения: 64048
* Порты меняются местами

![Кадр http - ответ](image/12.png){#fig:12 width=70%}



## DNS (UDP)

* Фильтр: `dns`
* DNS-запрос:

  * порт источника: динамический
  * порт назначения: 53
* DNS-ответ:

  * источник: 53
  * назначение: 64317

![Кадр dns - запрос](image/13.png){#fig:13 width=70%}



## Протокол QUIC

* Фильтр: `quic`
* Использован браузер Google Chrome
* QUIC работает поверх UDP
* Порты:

  * источник: 49768
  * назначение: 443
* Встроенное шифрование TLS 1.3

![Кадр quic - запрос](image/15.png){#fig:15 width=70%}



## TCP Handshake (общее)

* TCP использует **трёхступенчатое рукопожатие**
* Этапы:

  1. SYN
  2. SYN + ACK
  3. ACK



## Handshake: SYN

* Клиент → сервер
* Флаг: **SYN**
* Relative Sequence Number = 0
* Инициация соединения

![Первая ступень handshake TCP](image/16.png){#fig:16 width=70%}



## Handshake: SYN + ACK

* Сервер → клиент
* Флаги: **SYN, ACK**
* Ack = 1 подтверждает SYN клиента

![Вторая ступень handshake TCP](image/17.png){#fig:17 width=70%}



## Handshake: ACK

* Клиент → сервер
* Флаг: **ACK**
* Sequence Number = 6231
* Acknowledgment Number = 3590
* Соединение установлено

![Третья ступень handshake TCP](image/18.png){#fig:18 width=70%}



## Flow Graph (TCP)

* Использован инструмент **Statistics → Flow Graph**
* Наглядно показаны:

  * SYN
  * SYN, ACK
  * ACK
* Подтверждение завершения TCP-handshake

![График потока](image/19.png){#fig:19 width=70%}



## Завершение захвата

* Захват трафика остановлен
* Анализ завершён



## Выводы

**В ходе работы:**

* Изучены кадры Ethernet
* Проанализированы протоколы:

  * ARP, ICMP
  * TCP, UDP
  * HTTP, DNS, QUIC
* Исследован TCP three-way handshake
* Получены практические навыки работы с Wireshark

